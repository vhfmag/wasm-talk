import { Split, Invert } from "mdx-deck/layouts";
import { Appear, Notes, Head } from "mdx-deck";

import "./preloader";

<Head>
  <title>WebAssembly ‚Äì o que √© e o que muda com ele</title>

<link rel="canonical" href="http://wasm-talk.netlify.com" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@vhfmag" />
  <meta
    property="twitter:image"
    content="https://wasm-talk.netlify.com/assets/card.png"
  />

<meta
  property="og:image"
  content="https://wasm-talk.netlify.com/assets/card.png"
/>
</Head>

<Head>
  <script type="text/javascript">{`
    var _paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://yuno.victormagalhaes.codes/matomo/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '2']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  `}</script>
</Head>

![](./assets/images/web-assembly-logo.svg)

<center>

## O que √© e o que muda com ele

<p><small>wasm-talk.netlify.com</small></p>

</center>

---

export default Invert;

<center>

# O que √© WebAssembly?

</center>

---

Uma linguagem nova da Web

<pre>
  <code>{`
(module
  (func $getAnswer (result i32)
    i32.const 42)
  (func (export "getAnswerPlus1") (result i32)
    call $getAnswer
    i32.const 1
    i32.add))
`}</code>
</pre>

<Appear>
  <p>
    <small>
      <strike>(que eu espero que voc√™ n√£o precise escrever na m√£o)</strike>
    </small>
  </p>
</Appear>

---

# Por qu√™?

- R√°pida
- Alvo de compila√ß√£o
- Representa√ß√£o bin√°ria compacta

<Notes>
  <q>
    "Por qu√™? Por que mais uma linguagem na Web? O que falta em Javascript?"
  </q>
</Notes>

---

<small>Por qu√™?</small>

# R√°pida

- Baixo n√≠vel
- Fortemente tipada
- F√°cil de ser otimizada por compiladores
  - Performance <q>pr√≥xima de nativa</q>

---

<small>Por qu√™?</small>

# Alvo de compila√ß√£o

- Traz novas linguagens pra Web
  - C, C++, C#, Rust (+ Go, Kotlin, Typescript [e outras](https://github.com/appcypher/awesome-wasm-langs))
- Integra com ferramentas como LLVM, dando acesso a in√∫meras linguagens

---

<small>Por qu√™?</small>

# Representa√ß√£o bin√°ria compacta

- Parsear Javascript √© custoso
  - 10 a 30% do tempo de carregamento de p√°ginas ([fonte](https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4))
  - [asm.js](https://asmjs.org/), sua precursora √© r√°pida de executar, mas lento de parsear
- J√° a representa√ß√£o bin√°ria de Wasm:
  - √â mais compacta
  - √â f√°cil de parsear
  - Pode ser executada _enquanto_ √© baixada ü§Ø
  - √â t√£o boa que [querem copiar no Javascript](https://github.com/tc39/proposal-binary-ast#faq)

---

export default Invert;

<center>

# ‚ö† Disclaimer ‚ö†

## Cenas fortes a seguir

</center>

---

### Uma tecnologia que promete trazer performance nativa multiplataforma pro navegador, familiar? <big>ü§î</big>

---

![](./assets/images/shockwave.gif)

<Notes>
  Eu n√£o consigo nem estimar quantas horas eu perdi nessa tela, esperando um
  jogo carregar no site do Cartoon Network
</Notes>

---

![](./assets/images/java-applet.jpg)

<Notes>
  Esse foi meu primeiro contato com a Web, ent√£o at√© que rola saudade, vai
</Notes>

---

![](./assets/images/unsupported-plugin.png)

---

# Por que √© diferente?

Flash e Java applets:

- Eram uma cat√°strofe de seguran√ßa
  - Wasm foi feito com seguran√ßa em mente
- Mudavam constantemente, sem retrocompatibilidade
  - Wasm evolui de forma lenta e est√°vel, como a Web!
- N√£o eram parte da Web
  - Seu site/app com Wasm vai continuar funcionando daqui a 10 anos

---

# Performance <q>pr√≥xima de nativa</q>?

![](./assets/images/benchmark-wasm-native.png)

<center>
  <small>
    Quanto menor, melhor (<a href="https://arxiv.org/abs/1901.09056">fonte</a>)
    <br />
    <small>(e lembrem-se: diversidade de navegadores importa!)</small>
  </small>
</center>
