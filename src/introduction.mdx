import { Split, Invert } from "mdx-deck/layouts";
import { Appear, Notes, Head } from "mdx-deck";

<Head>
  <title>WebAssembly ‚Äì o que √© e o que muda com ele</title>

  <link rel="canonical" href="http://wasm-talk.netlify.com" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@vhfmag" />
  <meta
    property="twitter:image"
    content="https://wasm-talk.netlify.com/assets/card.png"
  />

  <meta
    property="og:image"
    content="https://wasm-talk.netlify.com/assets/card.png"
  />
</Head>

![](./assets/images/web-assembly-logo.svg)

<center>

## O que √© e o que muda com ele

<p><small>Victor Magalh√£es (@vhfmag) ‚Äî wasm-talk.netlify.com</small></p>

</center>

---

export default Invert;

<center>

# O que √© WebAssembly?

</center>

---

Uma linguagem nova da WebAssembly

<pre>
  <code>{`
(module
  (func $getAnswer (result i32)
    i32.const 42)
  (func (export "getAnswerPlus1") (result i32)
    call $getAnswer
    i32.const 1
    i32.add))
`}</code>
</pre>

<Appear>
  <p>
    <small>Que eu espero que voc√™ n√£o precise escrever na m√£o</small>
  </p>
</Appear>

---

# Por qu√™?

- R√°pida
- Alvo de compila√ß√£o
- Representa√ß√£o bin√°ria compacta

---

<small>Por qu√™?</small>

# R√°pida

- Baixo n√≠vel
- Fortemente tipada
- Sujeita a otimiza√ß√µes de compilador
  - Performance <q>pr√≥xima de nativa</q>

---

<small>Por qu√™?</small>

# Alvo de compila√ß√£o

- Traz novas linguagens pra Web
  - C, C++, C#, Rust (+ Go, Kotlin, Typescript [e outras](https://github.com/appcypher/awesome-wasm-langs))
- Integra com ferramentas como LLVM

---

<small>Por qu√™?</small>

# Representa√ß√£o bin√°ria compacta

- Parsear Javascript √© custoso
  - 10 a 30% do tempo de carregamento de p√°ginas ([fonte](https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4))
- J√° a representa√ß√£o bin√°ria de Wasm:
  - √â mais compacta
  - √â f√°cil de parsear
  - Pode ser executada enquanto √© baixada, diferente de Javascript
  - √â t√£o boa que [querem copiar no Javascript](https://github.com/tc39/proposal-binary-ast#faq)

---

export default Invert;

<center>

# ‚ö† Disclaimer ‚ö†

## Cenas fortes a seguir

</center>

---

### Uma tecnologia que promete trazer performance nativa multiplataforma pro navegador, familiar? <big>ü§î</big>

---

![](./assets/images/shockwave.gif)

<Notes>
  Eu n√£o consigo nem estimar quantas horas eu perdi nessa tela, esperando um
  jogo carregar no site do Cartoon Network
</Notes>

---

![](./assets/images/java-applet.jpg)

<Notes>
  Esse foi meu primeiro contato com a Web, ent√£o at√© que rola saudade, vai
</Notes>

---

![](./assets/images/unsupported-plugin.png)

---

# Por que √© diferente?

- Flash/Java applets:
  - N√£o eram parte da Web
    - Seu site/app com Wasm vai continuar funcionando daqui a 10 anos
  - Eram uma cat√°strofe de seguran√ßa
    - Wasm foi feito com seguran√ßa em mente
  - Mudavam constantemente, sem retrocompatibilidade
    - Wasm evolui de forma lenta e est√°vel, como a Web!

---

# Performance <q>pr√≥xima de nativa</q>?

![](./assets/images/benchmark-wasm-native.png)

<center>
  <small>
    Quanto menor, melhor (<a href="https://arxiv.org/abs/1901.09056">fonte</a>)
    <br />
    <small>(e lembrem-se: diversidade de navegadores importa!)</small>
  </small>
</center>
